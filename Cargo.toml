[package]
name = "dbal"
version = "0.1.0"
authors = ["Alessandro Chitolina <alekitto@gmail.com>"]
edition = "2021"

[dependencies]
chrono = "0.4"
fallible-iterator = "0.2"
futures = "0.3"
regex = "1"
serde_json = "1.0"
tokio = { version = "1.9", features = ["default", "macros", "rt"] }
url = "2.2"
uuid = "1.0"

[dev-dependencies]
lazy_static = "1.4"

[features]
default = ["mysql", "postgres", "sqlite"]
mysql = ["mysql_async"]
postgres = ["postgres-native-tls", "tokio-postgres"]
runtime-tokio-native-tls = []
runtime-tokio-rustls = []
sqlite = ["rusqlite"]

[dependencies.mysql_async]
version = "0.29"
optional = true

[dependencies.tokio-postgres]
version = "0.7.2"
optional = true

[dependencies.postgres-native-tls]
version = "0.5.0"
optional = true

[dependencies.rusqlite]
version = "0.27"
optional = true
features = ["bundled", "chrono", "column_decltype", "functions", "serde_json", "uuid"]

[dev-dependencies.tokio-test]
version = "0.4"
